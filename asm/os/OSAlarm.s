.include "macros.inc"

.section .text, "ax"  # 0x80005600 - 0x8036FBA0
.global OSInitAlarm
OSInitAlarm:
/* 8008CE84 00089DC4  7C 08 02 A6 */	mflr r0
/* 8008CE88 00089DC8  38 60 00 08 */	li r3, 8
/* 8008CE8C 00089DCC  90 01 00 04 */	stw r0, 4(r1)
/* 8008CE90 00089DD0  94 21 FF F8 */	stwu r1, -8(r1)
/* 8008CE94 00089DD4  4B FF FE 9D */	bl __OSGetExceptionHandler
/* 8008CE98 00089DD8  3C 80 80 09 */	lis r4, DecrementerExceptionHandler@ha
/* 8008CE9C 00089DDC  38 84 D4 E0 */	addi r4, r4, DecrementerExceptionHandler@l
/* 8008CEA0 00089DE0  7C 03 20 40 */	cmplw r3, r4
/* 8008CEA4 00089DE4  41 82 00 1C */	beq lbl_8008CEC0
/* 8008CEA8 00089DE8  38 00 00 00 */	li r0, 0
/* 8008CEAC 00089DEC  38 6D 92 F0 */	addi r3, r13, AlarmQueue@sda21
/* 8008CEB0 00089DF0  90 03 00 04 */	stw r0, 4(r3)
/* 8008CEB4 00089DF4  38 60 00 08 */	li r3, 8
/* 8008CEB8 00089DF8  90 0D 92 F0 */	stw r0, AlarmQueue@sda21(r13)
/* 8008CEBC 00089DFC  4B FF FE 59 */	bl __OSSetExceptionHandler
lbl_8008CEC0:
/* 8008CEC0 00089E00  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8008CEC4 00089E04  38 21 00 08 */	addi r1, r1, 8
/* 8008CEC8 00089E08  7C 08 03 A6 */	mtlr r0
/* 8008CECC 00089E0C  4E 80 00 20 */	blr 

.global OSCreateAlarm
OSCreateAlarm:
/* 8008CED0 00089E10  38 00 00 00 */	li r0, 0
/* 8008CED4 00089E14  90 03 00 00 */	stw r0, 0(r3)
/* 8008CED8 00089E18  4E 80 00 20 */	blr 

.global InsertAlarm
InsertAlarm:
/* 8008CEDC 00089E1C  7C 08 02 A6 */	mflr r0
/* 8008CEE0 00089E20  90 01 00 04 */	stw r0, 4(r1)
/* 8008CEE4 00089E24  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 8008CEE8 00089E28  BF 21 00 24 */	stmw r25, 0x24(r1)
/* 8008CEEC 00089E2C  3B 80 00 00 */	li r28, 0
/* 8008CEF0 00089E30  7C 7D 1B 78 */	mr r29, r3
/* 8008CEF4 00089E34  6F 84 80 00 */	xoris r4, r28, 0x8000
/* 8008CEF8 00089E38  3B 25 00 00 */	addi r25, r5, 0
/* 8008CEFC 00089E3C  3B C6 00 00 */	addi r30, r6, 0
/* 8008CF00 00089E40  3B E7 00 00 */	addi r31, r7, 0
/* 8008CF04 00089E44  80 03 00 18 */	lwz r0, 0x18(r3)
/* 8008CF08 00089E48  81 03 00 1C */	lwz r8, 0x1c(r3)
/* 8008CF0C 00089E4C  6C 03 80 00 */	xoris r3, r0, 0x8000
/* 8008CF10 00089E50  7C 08 E0 10 */	subfc r0, r8, r28
/* 8008CF14 00089E54  7C 63 21 10 */	subfe r3, r3, r4
/* 8008CF18 00089E58  7C 64 21 10 */	subfe r3, r4, r4
/* 8008CF1C 00089E5C  7C 63 00 D1 */	neg. r3, r3
/* 8008CF20 00089E60  41 82 00 7C */	beq lbl_8008CF9C
/* 8008CF24 00089E64  48 00 6E F5 */	bl __OSGetSystemTime
/* 8008CF28 00089E68  80 FD 00 20 */	lwz r7, 0x20(r29)
/* 8008CF2C 00089E6C  6C 65 80 00 */	xoris r5, r3, 0x8000
/* 8008CF30 00089E70  81 1D 00 24 */	lwz r8, 0x24(r29)
/* 8008CF34 00089E74  6C E6 80 00 */	xoris r6, r7, 0x8000
/* 8008CF38 00089E78  7C 04 40 10 */	subfc r0, r4, r8
/* 8008CF3C 00089E7C  7C A5 31 10 */	subfe r5, r5, r6
/* 8008CF40 00089E80  7C A6 31 10 */	subfe r5, r6, r6
/* 8008CF44 00089E84  7C A5 00 D1 */	neg. r5, r5
/* 8008CF48 00089E88  3B C8 00 00 */	addi r30, r8, 0
/* 8008CF4C 00089E8C  3B 27 00 00 */	addi r25, r7, 0
/* 8008CF50 00089E90  41 82 00 4C */	beq lbl_8008CF9C
/* 8008CF54 00089E94  83 7D 00 18 */	lwz r27, 0x18(r29)
/* 8008CF58 00089E98  7C 88 20 10 */	subfc r4, r8, r4
/* 8008CF5C 00089E9C  83 5D 00 1C */	lwz r26, 0x1c(r29)
/* 8008CF60 00089EA0  7C 67 19 10 */	subfe r3, r7, r3
/* 8008CF64 00089EA4  38 BB 00 00 */	addi r5, r27, 0
/* 8008CF68 00089EA8  38 DA 00 00 */	addi r6, r26, 0
/* 8008CF6C 00089EAC  4B FF 5D 99 */	bl __div2i
/* 8008CF70 00089EB0  38 00 00 01 */	li r0, 1
/* 8008CF74 00089EB4  7C A4 00 14 */	addc r5, r4, r0
/* 8008CF78 00089EB8  7C 9B 29 D6 */	mullw r4, r27, r5
/* 8008CF7C 00089EBC  7C 1A 28 16 */	mulhwu r0, r26, r5
/* 8008CF80 00089EC0  7C 63 E1 14 */	adde r3, r3, r28
/* 8008CF84 00089EC4  7C 84 02 14 */	add r4, r4, r0
/* 8008CF88 00089EC8  7C 1A 19 D6 */	mullw r0, r26, r3
/* 8008CF8C 00089ECC  7C 7A 29 D6 */	mullw r3, r26, r5
/* 8008CF90 00089ED0  7C 04 02 14 */	add r0, r4, r0
/* 8008CF94 00089ED4  7F DE 18 14 */	addc r30, r30, r3
/* 8008CF98 00089ED8  7F 39 01 14 */	adde r25, r25, r0
lbl_8008CF9C:
/* 8008CF9C 00089EDC  93 FD 00 00 */	stw r31, 0(r29)
/* 8008CFA0 00089EE0  6F 24 80 00 */	xoris r4, r25, 0x8000
/* 8008CFA4 00089EE4  93 DD 00 0C */	stw r30, 0xc(r29)
/* 8008CFA8 00089EE8  93 3D 00 08 */	stw r25, 8(r29)
/* 8008CFAC 00089EEC  80 CD 92 F0 */	lwz r6, AlarmQueue@sda21(r13)
/* 8008CFB0 00089EF0  48 00 00 C4 */	b lbl_8008D074
lbl_8008CFB4:
/* 8008CFB4 00089EF4  80 06 00 08 */	lwz r0, 8(r6)
/* 8008CFB8 00089EF8  80 A6 00 0C */	lwz r5, 0xc(r6)
/* 8008CFBC 00089EFC  6C 03 80 00 */	xoris r3, r0, 0x8000
/* 8008CFC0 00089F00  7C 05 F0 10 */	subfc r0, r5, r30
/* 8008CFC4 00089F04  7C 63 21 10 */	subfe r3, r3, r4
/* 8008CFC8 00089F08  7C 64 21 10 */	subfe r3, r4, r4
/* 8008CFCC 00089F0C  7C 63 00 D1 */	neg. r3, r3
/* 8008CFD0 00089F10  41 82 00 A0 */	beq lbl_8008D070
/* 8008CFD4 00089F14  80 06 00 10 */	lwz r0, 0x10(r6)
/* 8008CFD8 00089F18  90 1D 00 10 */	stw r0, 0x10(r29)
/* 8008CFDC 00089F1C  93 A6 00 10 */	stw r29, 0x10(r6)
/* 8008CFE0 00089F20  90 DD 00 14 */	stw r6, 0x14(r29)
/* 8008CFE4 00089F24  80 7D 00 10 */	lwz r3, 0x10(r29)
/* 8008CFE8 00089F28  28 03 00 00 */	cmplwi r3, 0
/* 8008CFEC 00089F2C  41 82 00 0C */	beq lbl_8008CFF8
/* 8008CFF0 00089F30  93 A3 00 14 */	stw r29, 0x14(r3)
/* 8008CFF4 00089F34  48 00 01 24 */	b lbl_8008D118
lbl_8008CFF8:
/* 8008CFF8 00089F38  93 AD 92 F0 */	stw r29, AlarmQueue@sda21(r13)
/* 8008CFFC 00089F3C  48 00 6E 1D */	bl __OSGetSystemTime
/* 8008D000 00089F40  80 DD 00 0C */	lwz r6, 0xc(r29)
/* 8008D004 00089F44  38 E0 00 00 */	li r7, 0
/* 8008D008 00089F48  80 1D 00 08 */	lwz r0, 8(r29)
/* 8008D00C 00089F4C  6C E5 80 00 */	xoris r5, r7, 0x8000
/* 8008D010 00089F50  7D 04 30 10 */	subfc r8, r4, r6
/* 8008D014 00089F54  7C 03 01 10 */	subfe r0, r3, r0
/* 8008D018 00089F58  6C 06 80 00 */	xoris r6, r0, 0x8000
/* 8008D01C 00089F5C  7C 07 40 10 */	subfc r0, r7, r8
/* 8008D020 00089F60  7C A5 31 10 */	subfe r5, r5, r6
/* 8008D024 00089F64  7C A6 31 10 */	subfe r5, r6, r6
/* 8008D028 00089F68  7C A5 00 D1 */	neg. r5, r5
/* 8008D02C 00089F6C  41 82 00 10 */	beq lbl_8008D03C
/* 8008D030 00089F70  38 60 00 00 */	li r3, 0
/* 8008D034 00089F74  4B FF F3 9D */	bl PPCMtdec
/* 8008D038 00089F78  48 00 00 E0 */	b lbl_8008D118
lbl_8008D03C:
/* 8008D03C 00089F7C  3C 80 80 00 */	lis r4, 0x8000
/* 8008D040 00089F80  6C E3 80 00 */	xoris r3, r7, 0x8000
/* 8008D044 00089F84  7C 04 40 10 */	subfc r0, r4, r8
/* 8008D048 00089F88  7C 63 31 10 */	subfe r3, r3, r6
/* 8008D04C 00089F8C  7C 66 31 10 */	subfe r3, r6, r6
/* 8008D050 00089F90  7C 63 00 D1 */	neg. r3, r3
/* 8008D054 00089F94  41 82 00 10 */	beq lbl_8008D064
/* 8008D058 00089F98  7D 03 43 78 */	mr r3, r8
/* 8008D05C 00089F9C  4B FF F3 75 */	bl PPCMtdec
/* 8008D060 00089FA0  48 00 00 B8 */	b lbl_8008D118
lbl_8008D064:
/* 8008D064 00089FA4  38 64 FF FF */	addi r3, r4, -1
/* 8008D068 00089FA8  4B FF F3 69 */	bl PPCMtdec
/* 8008D06C 00089FAC  48 00 00 AC */	b lbl_8008D118
lbl_8008D070:
/* 8008D070 00089FB0  80 C6 00 14 */	lwz r6, 0x14(r6)
lbl_8008D074:
/* 8008D074 00089FB4  28 06 00 00 */	cmplwi r6, 0
/* 8008D078 00089FB8  40 82 FF 3C */	bne lbl_8008CFB4
/* 8008D07C 00089FBC  3B C0 00 00 */	li r30, 0
/* 8008D080 00089FC0  93 DD 00 14 */	stw r30, 0x14(r29)
/* 8008D084 00089FC4  38 6D 92 F0 */	addi r3, r13, AlarmQueue@sda21
/* 8008D088 00089FC8  80 83 00 04 */	lwz r4, 4(r3)
/* 8008D08C 00089FCC  97 A3 00 04 */	stwu r29, 4(r3)
/* 8008D090 00089FD0  28 04 00 00 */	cmplwi r4, 0
/* 8008D094 00089FD4  90 9D 00 10 */	stw r4, 0x10(r29)
/* 8008D098 00089FD8  41 82 00 0C */	beq lbl_8008D0A4
/* 8008D09C 00089FDC  93 A4 00 14 */	stw r29, 0x14(r4)
/* 8008D0A0 00089FE0  48 00 00 78 */	b lbl_8008D118
lbl_8008D0A4:
/* 8008D0A4 00089FE4  93 A3 00 00 */	stw r29, 0(r3)
/* 8008D0A8 00089FE8  93 AD 92 F0 */	stw r29, AlarmQueue@sda21(r13)
/* 8008D0AC 00089FEC  48 00 6D 6D */	bl __OSGetSystemTime
/* 8008D0B0 00089FF0  80 DD 00 0C */	lwz r6, 0xc(r29)
/* 8008D0B4 00089FF4  6F C5 80 00 */	xoris r5, r30, 0x8000
/* 8008D0B8 00089FF8  80 1D 00 08 */	lwz r0, 8(r29)
/* 8008D0BC 00089FFC  7C E4 30 10 */	subfc r7, r4, r6
/* 8008D0C0 0008A000  7C 03 01 10 */	subfe r0, r3, r0
/* 8008D0C4 0008A004  6C 06 80 00 */	xoris r6, r0, 0x8000
/* 8008D0C8 0008A008  7C 1E 38 10 */	subfc r0, r30, r7
/* 8008D0CC 0008A00C  7C A5 31 10 */	subfe r5, r5, r6
/* 8008D0D0 0008A010  7C A6 31 10 */	subfe r5, r6, r6
/* 8008D0D4 0008A014  7C A5 00 D1 */	neg. r5, r5
/* 8008D0D8 0008A018  41 82 00 10 */	beq lbl_8008D0E8
/* 8008D0DC 0008A01C  38 60 00 00 */	li r3, 0
/* 8008D0E0 0008A020  4B FF F2 F1 */	bl PPCMtdec
/* 8008D0E4 0008A024  48 00 00 34 */	b lbl_8008D118
lbl_8008D0E8:
/* 8008D0E8 0008A028  3C 80 80 00 */	lis r4, 0x8000
/* 8008D0EC 0008A02C  6F C3 80 00 */	xoris r3, r30, 0x8000
/* 8008D0F0 0008A030  7C 04 38 10 */	subfc r0, r4, r7
/* 8008D0F4 0008A034  7C 63 31 10 */	subfe r3, r3, r6
/* 8008D0F8 0008A038  7C 66 31 10 */	subfe r3, r6, r6
/* 8008D0FC 0008A03C  7C 63 00 D1 */	neg. r3, r3
/* 8008D100 0008A040  41 82 00 10 */	beq lbl_8008D110
/* 8008D104 0008A044  7C E3 3B 78 */	mr r3, r7
/* 8008D108 0008A048  4B FF F2 C9 */	bl PPCMtdec
/* 8008D10C 0008A04C  48 00 00 0C */	b lbl_8008D118
lbl_8008D110:
/* 8008D110 0008A050  38 64 FF FF */	addi r3, r4, -1
/* 8008D114 0008A054  4B FF F2 BD */	bl PPCMtdec
lbl_8008D118:
/* 8008D118 0008A058  BB 21 00 24 */	lmw r25, 0x24(r1)
/* 8008D11C 0008A05C  80 01 00 44 */	lwz r0, 0x44(r1)
/* 8008D120 0008A060  38 21 00 40 */	addi r1, r1, 0x40
/* 8008D124 0008A064  7C 08 03 A6 */	mtlr r0
/* 8008D128 0008A068  4E 80 00 20 */	blr 

.global OSSetAlarm
OSSetAlarm:
/* 8008D12C 0008A06C  7C 08 02 A6 */	mflr r0
/* 8008D130 0008A070  90 01 00 04 */	stw r0, 4(r1)
/* 8008D134 0008A074  94 21 FF C8 */	stwu r1, -0x38(r1)
/* 8008D138 0008A078  BF 61 00 24 */	stmw r27, 0x24(r1)
/* 8008D13C 0008A07C  3B 63 00 00 */	addi r27, r3, 0
/* 8008D140 0008A080  3B A5 00 00 */	addi r29, r5, 0
/* 8008D144 0008A084  3B 86 00 00 */	addi r28, r6, 0
/* 8008D148 0008A088  3B C7 00 00 */	addi r30, r7, 0
/* 8008D14C 0008A08C  48 00 30 81 */	bl OSDisableInterrupts
/* 8008D150 0008A090  38 00 00 00 */	li r0, 0
/* 8008D154 0008A094  90 1B 00 1C */	stw r0, 0x1c(r27)
/* 8008D158 0008A098  7C 7F 1B 78 */	mr r31, r3
/* 8008D15C 0008A09C  90 1B 00 18 */	stw r0, 0x18(r27)
/* 8008D160 0008A0A0  48 00 6C B9 */	bl __OSGetSystemTime
/* 8008D164 0008A0A4  7C DC 20 14 */	addc r6, r28, r4
/* 8008D168 0008A0A8  7C BD 19 14 */	adde r5, r29, r3
/* 8008D16C 0008A0AC  38 7B 00 00 */	addi r3, r27, 0
/* 8008D170 0008A0B0  38 FE 00 00 */	addi r7, r30, 0
/* 8008D174 0008A0B4  4B FF FD 69 */	bl InsertAlarm
/* 8008D178 0008A0B8  7F E3 FB 78 */	mr r3, r31
/* 8008D17C 0008A0BC  48 00 30 79 */	bl OSRestoreInterrupts
/* 8008D180 0008A0C0  BB 61 00 24 */	lmw r27, 0x24(r1)
/* 8008D184 0008A0C4  80 01 00 3C */	lwz r0, 0x3c(r1)
/* 8008D188 0008A0C8  38 21 00 38 */	addi r1, r1, 0x38
/* 8008D18C 0008A0CC  7C 08 03 A6 */	mtlr r0
/* 8008D190 0008A0D0  4E 80 00 20 */	blr 

.global OSCancelAlarm
OSCancelAlarm:
/* 8008D194 0008A0D4  7C 08 02 A6 */	mflr r0
/* 8008D198 0008A0D8  90 01 00 04 */	stw r0, 4(r1)
/* 8008D19C 0008A0DC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8008D1A0 0008A0E0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8008D1A4 0008A0E4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8008D1A8 0008A0E8  7C 7E 1B 78 */	mr r30, r3
/* 8008D1AC 0008A0EC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8008D1B0 0008A0F0  48 00 30 1D */	bl OSDisableInterrupts
/* 8008D1B4 0008A0F4  80 1E 00 00 */	lwz r0, 0(r30)
/* 8008D1B8 0008A0F8  3B E3 00 00 */	addi r31, r3, 0
/* 8008D1BC 0008A0FC  28 00 00 00 */	cmplwi r0, 0
/* 8008D1C0 0008A100  40 82 00 10 */	bne lbl_8008D1D0
/* 8008D1C4 0008A104  7F E3 FB 78 */	mr r3, r31
/* 8008D1C8 0008A108  48 00 30 2D */	bl OSRestoreInterrupts
/* 8008D1CC 0008A10C  48 00 00 C8 */	b lbl_8008D294
lbl_8008D1D0:
/* 8008D1D0 0008A110  83 BE 00 14 */	lwz r29, 0x14(r30)
/* 8008D1D4 0008A114  28 1D 00 00 */	cmplwi r29, 0
/* 8008D1D8 0008A118  40 82 00 14 */	bne lbl_8008D1EC
/* 8008D1DC 0008A11C  80 1E 00 10 */	lwz r0, 0x10(r30)
/* 8008D1E0 0008A120  38 6D 92 F0 */	addi r3, r13, AlarmQueue@sda21
/* 8008D1E4 0008A124  90 03 00 04 */	stw r0, 4(r3)
/* 8008D1E8 0008A128  48 00 00 0C */	b lbl_8008D1F4
lbl_8008D1EC:
/* 8008D1EC 0008A12C  80 1E 00 10 */	lwz r0, 0x10(r30)
/* 8008D1F0 0008A130  90 1D 00 10 */	stw r0, 0x10(r29)
lbl_8008D1F4:
/* 8008D1F4 0008A134  80 7E 00 10 */	lwz r3, 0x10(r30)
/* 8008D1F8 0008A138  28 03 00 00 */	cmplwi r3, 0
/* 8008D1FC 0008A13C  41 82 00 0C */	beq lbl_8008D208
/* 8008D200 0008A140  93 A3 00 14 */	stw r29, 0x14(r3)
/* 8008D204 0008A144  48 00 00 80 */	b lbl_8008D284
lbl_8008D208:
/* 8008D208 0008A148  28 1D 00 00 */	cmplwi r29, 0
/* 8008D20C 0008A14C  93 AD 92 F0 */	stw r29, AlarmQueue@sda21(r13)
/* 8008D210 0008A150  41 82 00 74 */	beq lbl_8008D284
/* 8008D214 0008A154  48 00 6C 05 */	bl __OSGetSystemTime
/* 8008D218 0008A158  80 DD 00 0C */	lwz r6, 0xc(r29)
/* 8008D21C 0008A15C  38 E0 00 00 */	li r7, 0
/* 8008D220 0008A160  80 1D 00 08 */	lwz r0, 8(r29)
/* 8008D224 0008A164  6C E5 80 00 */	xoris r5, r7, 0x8000
/* 8008D228 0008A168  7D 04 30 10 */	subfc r8, r4, r6
/* 8008D22C 0008A16C  7C 03 01 10 */	subfe r0, r3, r0
/* 8008D230 0008A170  6C 06 80 00 */	xoris r6, r0, 0x8000
/* 8008D234 0008A174  7C 07 40 10 */	subfc r0, r7, r8
/* 8008D238 0008A178  7C A5 31 10 */	subfe r5, r5, r6
/* 8008D23C 0008A17C  7C A6 31 10 */	subfe r5, r6, r6
/* 8008D240 0008A180  7C A5 00 D1 */	neg. r5, r5
/* 8008D244 0008A184  41 82 00 10 */	beq lbl_8008D254
/* 8008D248 0008A188  38 60 00 00 */	li r3, 0
/* 8008D24C 0008A18C  4B FF F1 85 */	bl PPCMtdec
/* 8008D250 0008A190  48 00 00 34 */	b lbl_8008D284
lbl_8008D254:
/* 8008D254 0008A194  3C 80 80 00 */	lis r4, 0x8000
/* 8008D258 0008A198  6C E3 80 00 */	xoris r3, r7, 0x8000
/* 8008D25C 0008A19C  7C 04 40 10 */	subfc r0, r4, r8
/* 8008D260 0008A1A0  7C 63 31 10 */	subfe r3, r3, r6
/* 8008D264 0008A1A4  7C 66 31 10 */	subfe r3, r6, r6
/* 8008D268 0008A1A8  7C 63 00 D1 */	neg. r3, r3
/* 8008D26C 0008A1AC  41 82 00 10 */	beq lbl_8008D27C
/* 8008D270 0008A1B0  7D 03 43 78 */	mr r3, r8
/* 8008D274 0008A1B4  4B FF F1 5D */	bl PPCMtdec
/* 8008D278 0008A1B8  48 00 00 0C */	b lbl_8008D284
lbl_8008D27C:
/* 8008D27C 0008A1BC  38 64 FF FF */	addi r3, r4, -1
/* 8008D280 0008A1C0  4B FF F1 51 */	bl PPCMtdec
lbl_8008D284:
/* 8008D284 0008A1C4  38 00 00 00 */	li r0, 0
/* 8008D288 0008A1C8  90 1E 00 00 */	stw r0, 0(r30)
/* 8008D28C 0008A1CC  7F E3 FB 78 */	mr r3, r31
/* 8008D290 0008A1D0  48 00 2F 65 */	bl OSRestoreInterrupts
lbl_8008D294:
/* 8008D294 0008A1D4  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8008D298 0008A1D8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8008D29C 0008A1DC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8008D2A0 0008A1E0  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8008D2A4 0008A1E4  38 21 00 20 */	addi r1, r1, 0x20
/* 8008D2A8 0008A1E8  7C 08 03 A6 */	mtlr r0
/* 8008D2AC 0008A1EC  4E 80 00 20 */	blr 

.global DecrementerExceptionCallback
DecrementerExceptionCallback:
/* 8008D2B0 0008A1F0  7C 08 02 A6 */	mflr r0
/* 8008D2B4 0008A1F4  90 01 00 04 */	stw r0, 4(r1)
/* 8008D2B8 0008A1F8  94 21 FD 10 */	stwu r1, -0x2f0(r1)
/* 8008D2BC 0008A1FC  93 E1 02 EC */	stw r31, 0x2ec(r1)
/* 8008D2C0 0008A200  93 C1 02 E8 */	stw r30, 0x2e8(r1)
/* 8008D2C4 0008A204  93 A1 02 E4 */	stw r29, 0x2e4(r1)
/* 8008D2C8 0008A208  7C 9D 23 78 */	mr r29, r4
/* 8008D2CC 0008A20C  93 81 02 E0 */	stw r28, 0x2e0(r1)
/* 8008D2D0 0008A210  48 00 6B 49 */	bl __OSGetSystemTime
/* 8008D2D4 0008A214  80 0D 92 F0 */	lwz r0, AlarmQueue@sda21(r13)
/* 8008D2D8 0008A218  3B 84 00 00 */	addi r28, r4, 0
/* 8008D2DC 0008A21C  3B C3 00 00 */	addi r30, r3, 0
/* 8008D2E0 0008A220  28 00 00 00 */	cmplwi r0, 0
/* 8008D2E4 0008A224  7C 1F 03 78 */	mr r31, r0
/* 8008D2E8 0008A228  40 82 00 0C */	bne lbl_8008D2F4
/* 8008D2EC 0008A22C  7F A3 EB 78 */	mr r3, r29
/* 8008D2F0 0008A230  48 00 16 15 */	bl OSLoadContext
lbl_8008D2F4:
/* 8008D2F4 0008A234  80 1F 00 08 */	lwz r0, 8(r31)
/* 8008D2F8 0008A238  6F C4 80 00 */	xoris r4, r30, 0x8000
/* 8008D2FC 0008A23C  80 BF 00 0C */	lwz r5, 0xc(r31)
/* 8008D300 0008A240  6C 03 80 00 */	xoris r3, r0, 0x8000
/* 8008D304 0008A244  7C 05 E0 10 */	subfc r0, r5, r28
/* 8008D308 0008A248  7C 63 21 10 */	subfe r3, r3, r4
/* 8008D30C 0008A24C  7C 64 21 10 */	subfe r3, r4, r4
/* 8008D310 0008A250  7C 63 00 D1 */	neg. r3, r3
/* 8008D314 0008A254  41 82 00 7C */	beq lbl_8008D390
/* 8008D318 0008A258  48 00 6B 01 */	bl __OSGetSystemTime
/* 8008D31C 0008A25C  80 DF 00 0C */	lwz r6, 0xc(r31)
/* 8008D320 0008A260  38 E0 00 00 */	li r7, 0
/* 8008D324 0008A264  80 1F 00 08 */	lwz r0, 8(r31)
/* 8008D328 0008A268  6C E5 80 00 */	xoris r5, r7, 0x8000
/* 8008D32C 0008A26C  7D 04 30 10 */	subfc r8, r4, r6
/* 8008D330 0008A270  7C 03 01 10 */	subfe r0, r3, r0
/* 8008D334 0008A274  6C 06 80 00 */	xoris r6, r0, 0x8000
/* 8008D338 0008A278  7C 07 40 10 */	subfc r0, r7, r8
/* 8008D33C 0008A27C  7C A5 31 10 */	subfe r5, r5, r6
/* 8008D340 0008A280  7C A6 31 10 */	subfe r5, r6, r6
/* 8008D344 0008A284  7C A5 00 D1 */	neg. r5, r5
/* 8008D348 0008A288  41 82 00 10 */	beq lbl_8008D358
/* 8008D34C 0008A28C  38 60 00 00 */	li r3, 0
/* 8008D350 0008A290  4B FF F0 81 */	bl PPCMtdec
/* 8008D354 0008A294  48 00 00 34 */	b lbl_8008D388
lbl_8008D358:
/* 8008D358 0008A298  3C 80 80 00 */	lis r4, 0x8000
/* 8008D35C 0008A29C  6C E3 80 00 */	xoris r3, r7, 0x8000
/* 8008D360 0008A2A0  7C 04 40 10 */	subfc r0, r4, r8
/* 8008D364 0008A2A4  7C 63 31 10 */	subfe r3, r3, r6
/* 8008D368 0008A2A8  7C 66 31 10 */	subfe r3, r6, r6
/* 8008D36C 0008A2AC  7C 63 00 D1 */	neg. r3, r3
/* 8008D370 0008A2B0  41 82 00 10 */	beq lbl_8008D380
/* 8008D374 0008A2B4  7D 03 43 78 */	mr r3, r8
/* 8008D378 0008A2B8  4B FF F0 59 */	bl PPCMtdec
/* 8008D37C 0008A2BC  48 00 00 0C */	b lbl_8008D388
lbl_8008D380:
/* 8008D380 0008A2C0  38 64 FF FF */	addi r3, r4, -1
/* 8008D384 0008A2C4  4B FF F0 4D */	bl PPCMtdec
lbl_8008D388:
/* 8008D388 0008A2C8  7F A3 EB 78 */	mr r3, r29
/* 8008D38C 0008A2CC  48 00 15 79 */	bl OSLoadContext
lbl_8008D390:
/* 8008D390 0008A2D0  80 7F 00 14 */	lwz r3, 0x14(r31)
/* 8008D394 0008A2D4  28 03 00 00 */	cmplwi r3, 0
/* 8008D398 0008A2D8  90 6D 92 F0 */	stw r3, AlarmQueue@sda21(r13)
/* 8008D39C 0008A2DC  40 82 00 14 */	bne lbl_8008D3B0
/* 8008D3A0 0008A2E0  38 00 00 00 */	li r0, 0
/* 8008D3A4 0008A2E4  38 6D 92 F0 */	addi r3, r13, AlarmQueue@sda21
/* 8008D3A8 0008A2E8  90 03 00 04 */	stw r0, 4(r3)
/* 8008D3AC 0008A2EC  48 00 00 0C */	b lbl_8008D3B8
lbl_8008D3B0:
/* 8008D3B0 0008A2F0  38 00 00 00 */	li r0, 0
/* 8008D3B4 0008A2F4  90 03 00 10 */	stw r0, 0x10(r3)
lbl_8008D3B8:
/* 8008D3B8 0008A2F8  83 DF 00 00 */	lwz r30, 0(r31)
/* 8008D3BC 0008A2FC  38 C0 00 00 */	li r6, 0
/* 8008D3C0 0008A300  6C C4 80 00 */	xoris r4, r6, 0x8000
/* 8008D3C4 0008A304  90 DF 00 00 */	stw r6, 0(r31)
/* 8008D3C8 0008A308  80 1F 00 18 */	lwz r0, 0x18(r31)
/* 8008D3CC 0008A30C  80 BF 00 1C */	lwz r5, 0x1c(r31)
/* 8008D3D0 0008A310  6C 03 80 00 */	xoris r3, r0, 0x8000
/* 8008D3D4 0008A314  7C 05 30 10 */	subfc r0, r5, r6
/* 8008D3D8 0008A318  7C 63 21 10 */	subfe r3, r3, r4
/* 8008D3DC 0008A31C  7C 64 21 10 */	subfe r3, r4, r4
/* 8008D3E0 0008A320  7C 63 00 D1 */	neg. r3, r3
/* 8008D3E4 0008A324  41 82 00 18 */	beq lbl_8008D3FC
/* 8008D3E8 0008A328  38 7F 00 00 */	addi r3, r31, 0
/* 8008D3EC 0008A32C  38 FE 00 00 */	addi r7, r30, 0
/* 8008D3F0 0008A330  38 C0 00 00 */	li r6, 0
/* 8008D3F4 0008A334  38 A0 00 00 */	li r5, 0
/* 8008D3F8 0008A338  4B FF FA E5 */	bl InsertAlarm
lbl_8008D3FC:
/* 8008D3FC 0008A33C  83 8D 92 F0 */	lwz r28, AlarmQueue@sda21(r13)
/* 8008D400 0008A340  28 1C 00 00 */	cmplwi r28, 0
/* 8008D404 0008A344  41 82 00 74 */	beq lbl_8008D478
/* 8008D408 0008A348  48 00 6A 11 */	bl __OSGetSystemTime
/* 8008D40C 0008A34C  80 DC 00 0C */	lwz r6, 0xc(r28)
/* 8008D410 0008A350  38 E0 00 00 */	li r7, 0
/* 8008D414 0008A354  80 1C 00 08 */	lwz r0, 8(r28)
/* 8008D418 0008A358  6C E5 80 00 */	xoris r5, r7, 0x8000
/* 8008D41C 0008A35C  7D 04 30 10 */	subfc r8, r4, r6
/* 8008D420 0008A360  7C 03 01 10 */	subfe r0, r3, r0
/* 8008D424 0008A364  6C 06 80 00 */	xoris r6, r0, 0x8000
/* 8008D428 0008A368  7C 07 40 10 */	subfc r0, r7, r8
/* 8008D42C 0008A36C  7C A5 31 10 */	subfe r5, r5, r6
/* 8008D430 0008A370  7C A6 31 10 */	subfe r5, r6, r6
/* 8008D434 0008A374  7C A5 00 D1 */	neg. r5, r5
/* 8008D438 0008A378  41 82 00 10 */	beq lbl_8008D448
/* 8008D43C 0008A37C  38 60 00 00 */	li r3, 0
/* 8008D440 0008A380  4B FF EF 91 */	bl PPCMtdec
/* 8008D444 0008A384  48 00 00 34 */	b lbl_8008D478
lbl_8008D448:
/* 8008D448 0008A388  3C 80 80 00 */	lis r4, 0x8000
/* 8008D44C 0008A38C  6C E3 80 00 */	xoris r3, r7, 0x8000
/* 8008D450 0008A390  7C 04 40 10 */	subfc r0, r4, r8
/* 8008D454 0008A394  7C 63 31 10 */	subfe r3, r3, r6
/* 8008D458 0008A398  7C 66 31 10 */	subfe r3, r6, r6
/* 8008D45C 0008A39C  7C 63 00 D1 */	neg. r3, r3
/* 8008D460 0008A3A0  41 82 00 10 */	beq lbl_8008D470
/* 8008D464 0008A3A4  7D 03 43 78 */	mr r3, r8
/* 8008D468 0008A3A8  4B FF EF 69 */	bl PPCMtdec
/* 8008D46C 0008A3AC  48 00 00 0C */	b lbl_8008D478
lbl_8008D470:
/* 8008D470 0008A3B0  38 64 FF FF */	addi r3, r4, -1
/* 8008D474 0008A3B4  4B FF EF 5D */	bl PPCMtdec
lbl_8008D478:
/* 8008D478 0008A3B8  48 00 58 51 */	bl OSDisableScheduler
/* 8008D47C 0008A3BC  38 61 00 18 */	addi r3, r1, 0x18
/* 8008D480 0008A3C0  48 00 15 65 */	bl OSClearContext
/* 8008D484 0008A3C4  38 61 00 18 */	addi r3, r1, 0x18
/* 8008D488 0008A3C8  48 00 13 95 */	bl OSSetCurrentContext
/* 8008D48C 0008A3CC  39 9E 00 00 */	addi r12, r30, 0
/* 8008D490 0008A3D0  7D 88 03 A6 */	mtlr r12
/* 8008D494 0008A3D4  38 7F 00 00 */	addi r3, r31, 0
/* 8008D498 0008A3D8  38 9D 00 00 */	addi r4, r29, 0
/* 8008D49C 0008A3DC  4E 80 00 21 */	blrl 
/* 8008D4A0 0008A3E0  38 61 00 18 */	addi r3, r1, 0x18
/* 8008D4A4 0008A3E4  48 00 15 41 */	bl OSClearContext
/* 8008D4A8 0008A3E8  7F A3 EB 78 */	mr r3, r29
/* 8008D4AC 0008A3EC  48 00 13 71 */	bl OSSetCurrentContext
/* 8008D4B0 0008A3F0  48 00 58 59 */	bl OSEnableScheduler
/* 8008D4B4 0008A3F4  48 00 5D 49 */	bl __OSReschedule
/* 8008D4B8 0008A3F8  7F A3 EB 78 */	mr r3, r29
/* 8008D4BC 0008A3FC  48 00 14 49 */	bl OSLoadContext
/* 8008D4C0 0008A400  80 01 02 F4 */	lwz r0, 0x2f4(r1)
/* 8008D4C4 0008A404  83 E1 02 EC */	lwz r31, 0x2ec(r1)
/* 8008D4C8 0008A408  83 C1 02 E8 */	lwz r30, 0x2e8(r1)
/* 8008D4CC 0008A40C  83 A1 02 E4 */	lwz r29, 0x2e4(r1)
/* 8008D4D0 0008A410  83 81 02 E0 */	lwz r28, 0x2e0(r1)
/* 8008D4D4 0008A414  38 21 02 F0 */	addi r1, r1, 0x2f0
/* 8008D4D8 0008A418  7C 08 03 A6 */	mtlr r0
/* 8008D4DC 0008A41C  4E 80 00 20 */	blr 

.global DecrementerExceptionHandler
DecrementerExceptionHandler:
/* 8008D4E0 0008A420  90 04 00 00 */	stw r0, 0(r4)
/* 8008D4E4 0008A424  90 24 00 04 */	stw r1, 4(r4)
/* 8008D4E8 0008A428  90 44 00 08 */	stw r2, 8(r4)
/* 8008D4EC 0008A42C  BC C4 00 18 */	stmw r6, 0x18(r4)
/* 8008D4F0 0008A430  7C 11 E2 A6 */	mfspr r0, 0x391
/* 8008D4F4 0008A434  90 04 01 A8 */	stw r0, 0x1a8(r4)
/* 8008D4F8 0008A438  7C 12 E2 A6 */	mfspr r0, 0x392
/* 8008D4FC 0008A43C  90 04 01 AC */	stw r0, 0x1ac(r4)
/* 8008D500 0008A440  7C 13 E2 A6 */	mfspr r0, 0x393
/* 8008D504 0008A444  90 04 01 B0 */	stw r0, 0x1b0(r4)
/* 8008D508 0008A448  7C 14 E2 A6 */	mfspr r0, 0x394
/* 8008D50C 0008A44C  90 04 01 B4 */	stw r0, 0x1b4(r4)
/* 8008D510 0008A450  7C 15 E2 A6 */	mfspr r0, 0x395
/* 8008D514 0008A454  90 04 01 B8 */	stw r0, 0x1b8(r4)
/* 8008D518 0008A458  7C 16 E2 A6 */	mfspr r0, 0x396
/* 8008D51C 0008A45C  90 04 01 BC */	stw r0, 0x1bc(r4)
/* 8008D520 0008A460  7C 17 E2 A6 */	mfspr r0, 0x397
/* 8008D524 0008A464  90 04 01 C0 */	stw r0, 0x1c0(r4)
/* 8008D528 0008A468  94 21 FF F8 */	stwu r1, -8(r1)
/* 8008D52C 0008A46C  4B FF FD 84 */	b DecrementerExceptionCallback

.section .sbss, "wa"  # 0x804097C0 - 0x8040B45C
AlarmQueue:
	.skip 0x8
