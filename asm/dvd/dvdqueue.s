.include "macros.inc"

.section .text, "ax"  # 0x80005600 - 0x8036FBA0
.global __DVDClearWaitingQueue
__DVDClearWaitingQueue:
/* 80099068 00095FA8  3C 60 80 3F */	lis r3, WaitingQueue@ha
/* 8009906C 00095FAC  38 63 BD 38 */	addi r3, r3, WaitingQueue@l
/* 80099070 00095FB0  90 63 00 00 */	stw r3, 0(r3)
/* 80099074 00095FB4  38 A3 00 08 */	addi r5, r3, 8
/* 80099078 00095FB8  38 83 00 10 */	addi r4, r3, 0x10
/* 8009907C 00095FBC  90 63 00 04 */	stw r3, 4(r3)
/* 80099080 00095FC0  38 63 00 18 */	addi r3, r3, 0x18
/* 80099084 00095FC4  90 A5 00 00 */	stw r5, 0(r5)
/* 80099088 00095FC8  90 A5 00 04 */	stw r5, 4(r5)
/* 8009908C 00095FCC  90 84 00 00 */	stw r4, 0(r4)
/* 80099090 00095FD0  90 84 00 04 */	stw r4, 4(r4)
/* 80099094 00095FD4  90 63 00 00 */	stw r3, 0(r3)
/* 80099098 00095FD8  90 63 00 04 */	stw r3, 4(r3)
/* 8009909C 00095FDC  4E 80 00 20 */	blr 

.global __DVDPushWaitingQueue
__DVDPushWaitingQueue:
/* 800990A0 00095FE0  7C 08 02 A6 */	mflr r0
/* 800990A4 00095FE4  90 01 00 04 */	stw r0, 4(r1)
/* 800990A8 00095FE8  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 800990AC 00095FEC  93 E1 00 14 */	stw r31, 0x14(r1)
/* 800990B0 00095FF0  3B E4 00 00 */	addi r31, r4, 0
/* 800990B4 00095FF4  93 C1 00 10 */	stw r30, 0x10(r1)
/* 800990B8 00095FF8  3B C3 00 00 */	addi r30, r3, 0
/* 800990BC 00095FFC  4B FF 71 11 */	bl OSDisableInterrupts
/* 800990C0 00096000  3C 80 80 3F */	lis r4, WaitingQueue@ha
/* 800990C4 00096004  57 C5 18 38 */	slwi r5, r30, 3
/* 800990C8 00096008  38 04 BD 38 */	addi r0, r4, WaitingQueue@l
/* 800990CC 0009600C  7C A0 2A 14 */	add r5, r0, r5
/* 800990D0 00096010  80 85 00 04 */	lwz r4, 4(r5)
/* 800990D4 00096014  93 E4 00 00 */	stw r31, 0(r4)
/* 800990D8 00096018  80 05 00 04 */	lwz r0, 4(r5)
/* 800990DC 0009601C  90 1F 00 04 */	stw r0, 4(r31)
/* 800990E0 00096020  90 BF 00 00 */	stw r5, 0(r31)
/* 800990E4 00096024  93 E5 00 04 */	stw r31, 4(r5)
/* 800990E8 00096028  4B FF 71 0D */	bl OSRestoreInterrupts
/* 800990EC 0009602C  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 800990F0 00096030  38 60 00 01 */	li r3, 1
/* 800990F4 00096034  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 800990F8 00096038  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 800990FC 0009603C  38 21 00 18 */	addi r1, r1, 0x18
/* 80099100 00096040  7C 08 03 A6 */	mtlr r0
/* 80099104 00096044  4E 80 00 20 */	blr 

.global __DVDPopWaitingQueue
__DVDPopWaitingQueue:
/* 80099108 00096048  7C 08 02 A6 */	mflr r0
/* 8009910C 0009604C  90 01 00 04 */	stw r0, 4(r1)
/* 80099110 00096050  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80099114 00096054  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80099118 00096058  4B FF 70 B5 */	bl OSDisableInterrupts
/* 8009911C 0009605C  38 00 00 04 */	li r0, 4
/* 80099120 00096060  3C 80 80 3F */	lis r4, WaitingQueue@ha
/* 80099124 00096064  7C 09 03 A6 */	mtctr r0
/* 80099128 00096068  38 84 BD 38 */	addi r4, r4, WaitingQueue@l
/* 8009912C 0009606C  3B E0 00 00 */	li r31, 0
lbl_80099130:
/* 80099130 00096070  80 04 00 00 */	lwz r0, 0(r4)
/* 80099134 00096074  7C 00 20 40 */	cmplw r0, r4
/* 80099138 00096078  41 82 00 48 */	beq lbl_80099180
/* 8009913C 0009607C  4B FF 70 B9 */	bl OSRestoreInterrupts
/* 80099140 00096080  4B FF 70 8D */	bl OSDisableInterrupts
/* 80099144 00096084  3C 80 80 3F */	lis r4, WaitingQueue@ha
/* 80099148 00096088  57 E5 18 38 */	slwi r5, r31, 3
/* 8009914C 0009608C  38 04 BD 38 */	addi r0, r4, WaitingQueue@l
/* 80099150 00096090  7C A0 2A 14 */	add r5, r0, r5
/* 80099154 00096094  83 E5 00 00 */	lwz r31, 0(r5)
/* 80099158 00096098  80 1F 00 00 */	lwz r0, 0(r31)
/* 8009915C 0009609C  90 05 00 00 */	stw r0, 0(r5)
/* 80099160 000960A0  80 9F 00 00 */	lwz r4, 0(r31)
/* 80099164 000960A4  90 A4 00 04 */	stw r5, 4(r4)
/* 80099168 000960A8  4B FF 70 8D */	bl OSRestoreInterrupts
/* 8009916C 000960AC  38 00 00 00 */	li r0, 0
/* 80099170 000960B0  90 1F 00 00 */	stw r0, 0(r31)
/* 80099174 000960B4  7F E3 FB 78 */	mr r3, r31
/* 80099178 000960B8  90 1F 00 04 */	stw r0, 4(r31)
/* 8009917C 000960BC  48 00 00 18 */	b lbl_80099194
lbl_80099180:
/* 80099180 000960C0  38 84 00 08 */	addi r4, r4, 8
/* 80099184 000960C4  3B FF 00 01 */	addi r31, r31, 1
/* 80099188 000960C8  42 00 FF A8 */	bdnz lbl_80099130
/* 8009918C 000960CC  4B FF 70 69 */	bl OSRestoreInterrupts
/* 80099190 000960D0  38 60 00 00 */	li r3, 0
lbl_80099194:
/* 80099194 000960D4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80099198 000960D8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8009919C 000960DC  38 21 00 10 */	addi r1, r1, 0x10
/* 800991A0 000960E0  7C 08 03 A6 */	mtlr r0
/* 800991A4 000960E4  4E 80 00 20 */	blr 

.global __DVDCheckWaitingQueue
__DVDCheckWaitingQueue:
/* 800991A8 000960E8  7C 08 02 A6 */	mflr r0
/* 800991AC 000960EC  90 01 00 04 */	stw r0, 4(r1)
/* 800991B0 000960F0  94 21 FF F8 */	stwu r1, -8(r1)
/* 800991B4 000960F4  4B FF 70 19 */	bl OSDisableInterrupts
/* 800991B8 000960F8  38 00 00 04 */	li r0, 4
/* 800991BC 000960FC  3C 80 80 3F */	lis r4, WaitingQueue@ha
/* 800991C0 00096100  7C 09 03 A6 */	mtctr r0
/* 800991C4 00096104  38 84 BD 38 */	addi r4, r4, WaitingQueue@l
lbl_800991C8:
/* 800991C8 00096108  80 04 00 00 */	lwz r0, 0(r4)
/* 800991CC 0009610C  7C 00 20 40 */	cmplw r0, r4
/* 800991D0 00096110  41 82 00 10 */	beq lbl_800991E0
/* 800991D4 00096114  4B FF 70 21 */	bl OSRestoreInterrupts
/* 800991D8 00096118  38 60 00 01 */	li r3, 1
/* 800991DC 0009611C  48 00 00 14 */	b lbl_800991F0
lbl_800991E0:
/* 800991E0 00096120  38 84 00 08 */	addi r4, r4, 8
/* 800991E4 00096124  42 00 FF E4 */	bdnz lbl_800991C8
/* 800991E8 00096128  4B FF 70 0D */	bl OSRestoreInterrupts
/* 800991EC 0009612C  38 60 00 00 */	li r3, 0
lbl_800991F0:
/* 800991F0 00096130  80 01 00 0C */	lwz r0, 0xc(r1)
/* 800991F4 00096134  38 21 00 08 */	addi r1, r1, 8
/* 800991F8 00096138  7C 08 03 A6 */	mtlr r0
/* 800991FC 0009613C  4E 80 00 20 */	blr 

.global __DVDDequeueWaitingQueue
__DVDDequeueWaitingQueue:
/* 80099200 00096140  7C 08 02 A6 */	mflr r0
/* 80099204 00096144  90 01 00 04 */	stw r0, 4(r1)
/* 80099208 00096148  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8009920C 0009614C  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80099210 00096150  7C 7F 1B 78 */	mr r31, r3
/* 80099214 00096154  4B FF 6F B9 */	bl OSDisableInterrupts
/* 80099218 00096158  80 9F 00 04 */	lwz r4, 4(r31)
/* 8009921C 0009615C  80 BF 00 00 */	lwz r5, 0(r31)
/* 80099220 00096160  28 04 00 00 */	cmplwi r4, 0
/* 80099224 00096164  41 82 00 0C */	beq lbl_80099230
/* 80099228 00096168  28 05 00 00 */	cmplwi r5, 0
/* 8009922C 0009616C  40 82 00 10 */	bne lbl_8009923C
lbl_80099230:
/* 80099230 00096170  4B FF 6F C5 */	bl OSRestoreInterrupts
/* 80099234 00096174  38 60 00 00 */	li r3, 0
/* 80099238 00096178  48 00 00 14 */	b lbl_8009924C
lbl_8009923C:
/* 8009923C 0009617C  90 A4 00 00 */	stw r5, 0(r4)
/* 80099240 00096180  90 85 00 04 */	stw r4, 4(r5)
/* 80099244 00096184  4B FF 6F B1 */	bl OSRestoreInterrupts
/* 80099248 00096188  38 60 00 01 */	li r3, 1
lbl_8009924C:
/* 8009924C 0009618C  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 80099250 00096190  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 80099254 00096194  38 21 00 18 */	addi r1, r1, 0x18
/* 80099258 00096198  7C 08 03 A6 */	mtlr r0
/* 8009925C 0009619C  4E 80 00 20 */	blr 

.section .bss, "wa"  # 0x803E6000 - 0x80408AC0
WaitingQueue:
	.skip 0x20
