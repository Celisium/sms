.include "macros.inc"

.section .text, "ax"  # 0x80005600 - 0x8036FBA0
.global ClampStick
ClampStick:
/* 8009B074 00097FB4  88 03 00 00 */	lbz r0, 0(r3)
/* 8009B078 00097FB8  89 84 00 00 */	lbz r12, 0(r4)
/* 8009B07C 00097FBC  7C 00 07 75 */	extsb. r0, r0
/* 8009B080 00097FC0  7D 8C 07 74 */	extsb r12, r12
/* 8009B084 00097FC4  7C 0B 03 78 */	mr r11, r0
/* 8009B088 00097FC8  41 80 00 0C */	blt lbl_8009B094
/* 8009B08C 00097FCC  38 00 00 01 */	li r0, 1
/* 8009B090 00097FD0  48 00 00 0C */	b lbl_8009B09C
lbl_8009B094:
/* 8009B094 00097FD4  38 00 FF FF */	li r0, -1
/* 8009B098 00097FD8  7D 6B 00 D0 */	neg r11, r11
lbl_8009B09C:
/* 8009B09C 00097FDC  2C 0C 00 00 */	cmpwi r12, 0
/* 8009B0A0 00097FE0  41 80 00 0C */	blt lbl_8009B0AC
/* 8009B0A4 00097FE4  39 00 00 01 */	li r8, 1
/* 8009B0A8 00097FE8  48 00 00 0C */	b lbl_8009B0B4
lbl_8009B0AC:
/* 8009B0AC 00097FEC  39 00 FF FF */	li r8, -1
/* 8009B0B0 00097FF0  7D 8C 00 D0 */	neg r12, r12
lbl_8009B0B4:
/* 8009B0B4 00097FF4  7C E7 07 74 */	extsb r7, r7
/* 8009B0B8 00097FF8  7C 0B 38 00 */	cmpw r11, r7
/* 8009B0BC 00097FFC  41 81 00 0C */	bgt lbl_8009B0C8
/* 8009B0C0 00098000  39 60 00 00 */	li r11, 0
/* 8009B0C4 00098004  48 00 00 08 */	b lbl_8009B0CC
lbl_8009B0C8:
/* 8009B0C8 00098008  7D 67 58 50 */	subf r11, r7, r11
lbl_8009B0CC:
/* 8009B0CC 0009800C  7C 0C 38 00 */	cmpw r12, r7
/* 8009B0D0 00098010  41 81 00 0C */	bgt lbl_8009B0DC
/* 8009B0D4 00098014  39 80 00 00 */	li r12, 0
/* 8009B0D8 00098018  48 00 00 08 */	b lbl_8009B0E0
lbl_8009B0DC:
/* 8009B0DC 0009801C  7D 87 60 50 */	subf r12, r7, r12
lbl_8009B0E0:
/* 8009B0E0 00098020  2C 0B 00 00 */	cmpwi r11, 0
/* 8009B0E4 00098024  40 82 00 1C */	bne lbl_8009B100
/* 8009B0E8 00098028  2C 0C 00 00 */	cmpwi r12, 0
/* 8009B0EC 0009802C  40 82 00 14 */	bne lbl_8009B100
/* 8009B0F0 00098030  38 00 00 00 */	li r0, 0
/* 8009B0F4 00098034  98 04 00 00 */	stb r0, 0(r4)
/* 8009B0F8 00098038  98 03 00 00 */	stb r0, 0(r3)
/* 8009B0FC 0009803C  4E 80 00 20 */	blr 
lbl_8009B100:
/* 8009B100 00098040  7C C6 07 74 */	extsb r6, r6
/* 8009B104 00098044  7D 26 61 D6 */	mullw r9, r6, r12
/* 8009B108 00098048  7C E6 59 D6 */	mullw r7, r6, r11
/* 8009B10C 0009804C  7C 09 38 00 */	cmpw r9, r7
/* 8009B110 00098050  41 81 00 44 */	bgt lbl_8009B154
/* 8009B114 00098054  7C A9 07 74 */	extsb r9, r5
/* 8009B118 00098058  7C A6 48 50 */	subf r5, r6, r9
/* 8009B11C 0009805C  7C AC 29 D6 */	mullw r5, r12, r5
/* 8009B120 00098060  7D 26 49 D6 */	mullw r9, r6, r9
/* 8009B124 00098064  7C E7 2A 14 */	add r7, r7, r5
/* 8009B128 00098068  7C 09 38 00 */	cmpw r9, r7
/* 8009B12C 0009806C  40 80 00 64 */	bge lbl_8009B190
/* 8009B130 00098070  7C CB 49 D6 */	mullw r6, r11, r9
/* 8009B134 00098074  7C AC 49 D6 */	mullw r5, r12, r9
/* 8009B138 00098078  7C C6 3B D6 */	divw r6, r6, r7
/* 8009B13C 0009807C  7C A5 3B D6 */	divw r5, r5, r7
/* 8009B140 00098080  7C C6 07 74 */	extsb r6, r6
/* 8009B144 00098084  7C A5 07 74 */	extsb r5, r5
/* 8009B148 00098088  39 66 00 00 */	addi r11, r6, 0
/* 8009B14C 0009808C  39 85 00 00 */	addi r12, r5, 0
/* 8009B150 00098090  48 00 00 40 */	b lbl_8009B190
lbl_8009B154:
/* 8009B154 00098094  7C A7 07 74 */	extsb r7, r5
/* 8009B158 00098098  7C A6 38 50 */	subf r5, r6, r7
/* 8009B15C 0009809C  7C AB 29 D6 */	mullw r5, r11, r5
/* 8009B160 000980A0  7D 46 39 D6 */	mullw r10, r6, r7
/* 8009B164 000980A4  7C E9 2A 14 */	add r7, r9, r5
/* 8009B168 000980A8  7C 0A 38 00 */	cmpw r10, r7
/* 8009B16C 000980AC  40 80 00 24 */	bge lbl_8009B190
/* 8009B170 000980B0  7C CB 51 D6 */	mullw r6, r11, r10
/* 8009B174 000980B4  7C AC 51 D6 */	mullw r5, r12, r10
/* 8009B178 000980B8  7C C6 3B D6 */	divw r6, r6, r7
/* 8009B17C 000980BC  7C A5 3B D6 */	divw r5, r5, r7
/* 8009B180 000980C0  7C C6 07 74 */	extsb r6, r6
/* 8009B184 000980C4  7C A5 07 74 */	extsb r5, r5
/* 8009B188 000980C8  39 66 00 00 */	addi r11, r6, 0
/* 8009B18C 000980CC  39 85 00 00 */	addi r12, r5, 0
lbl_8009B190:
/* 8009B190 000980D0  7C A0 59 D6 */	mullw r5, r0, r11
/* 8009B194 000980D4  7C 08 61 D6 */	mullw r0, r8, r12
/* 8009B198 000980D8  98 A3 00 00 */	stb r5, 0(r3)
/* 8009B19C 000980DC  98 04 00 00 */	stb r0, 0(r4)
/* 8009B1A0 000980E0  4E 80 00 20 */	blr 

.global PADClamp
PADClamp:
/* 8009B1A4 000980E4  7C 08 02 A6 */	mflr r0
/* 8009B1A8 000980E8  90 01 00 04 */	stw r0, 4(r1)
/* 8009B1AC 000980EC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8009B1B0 000980F0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8009B1B4 000980F4  3B E0 00 00 */	li r31, 0
/* 8009B1B8 000980F8  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8009B1BC 000980FC  3B C3 00 00 */	addi r30, r3, 0
/* 8009B1C0 00098100  93 A1 00 14 */	stw r29, 0x14(r1)
lbl_8009B1C4:
/* 8009B1C4 00098104  88 1E 00 0A */	lbz r0, 0xa(r30)
/* 8009B1C8 00098108  7C 00 07 75 */	extsb. r0, r0
/* 8009B1CC 0009810C  40 82 00 B4 */	bne lbl_8009B280
/* 8009B1D0 00098110  3B AD 82 90 */	addi r29, r13, ClampRegion-_SDA_BASE_
/* 8009B1D4 00098114  88 BD 00 03 */	lbz r5, 3(r29)
/* 8009B1D8 00098118  38 7E 00 02 */	addi r3, r30, 2
/* 8009B1DC 0009811C  88 DD 00 04 */	lbz r6, 4(r29)
/* 8009B1E0 00098120  38 9E 00 03 */	addi r4, r30, 3
/* 8009B1E4 00098124  88 FD 00 02 */	lbz r7, 2(r29)
/* 8009B1E8 00098128  4B FF FE 8D */	bl ClampStick
/* 8009B1EC 0009812C  88 BD 00 06 */	lbz r5, 6(r29)
/* 8009B1F0 00098130  38 7E 00 04 */	addi r3, r30, 4
/* 8009B1F4 00098134  88 DD 00 07 */	lbz r6, 7(r29)
/* 8009B1F8 00098138  38 9E 00 05 */	addi r4, r30, 5
/* 8009B1FC 0009813C  88 FD 00 05 */	lbz r7, 5(r29)
/* 8009B200 00098140  4B FF FE 75 */	bl ClampStick
/* 8009B204 00098144  88 7E 00 06 */	lbz r3, 6(r30)
/* 8009B208 00098148  88 0D 82 90 */	lbz r0, ClampRegion-_SDA_BASE_(r13)
/* 8009B20C 0009814C  7C 03 00 40 */	cmplw r3, r0
/* 8009B210 00098150  41 81 00 10 */	bgt lbl_8009B220
/* 8009B214 00098154  38 00 00 00 */	li r0, 0
/* 8009B218 00098158  98 1E 00 06 */	stb r0, 6(r30)
/* 8009B21C 0009815C  48 00 00 24 */	b lbl_8009B240
lbl_8009B220:
/* 8009B220 00098160  88 1D 00 01 */	lbz r0, 1(r29)
/* 8009B224 00098164  7C 00 18 40 */	cmplw r0, r3
/* 8009B228 00098168  40 80 00 08 */	bge lbl_8009B230
/* 8009B22C 0009816C  98 1E 00 06 */	stb r0, 6(r30)
lbl_8009B230:
/* 8009B230 00098170  88 6D 82 90 */	lbz r3, ClampRegion-_SDA_BASE_(r13)
/* 8009B234 00098174  88 1E 00 06 */	lbz r0, 6(r30)
/* 8009B238 00098178  7C 03 00 50 */	subf r0, r3, r0
/* 8009B23C 0009817C  98 1E 00 06 */	stb r0, 6(r30)
lbl_8009B240:
/* 8009B240 00098180  88 9E 00 07 */	lbz r4, 7(r30)
/* 8009B244 00098184  88 0D 82 90 */	lbz r0, ClampRegion-_SDA_BASE_(r13)
/* 8009B248 00098188  7C 04 00 40 */	cmplw r4, r0
/* 8009B24C 0009818C  41 81 00 10 */	bgt lbl_8009B25C
/* 8009B250 00098190  38 00 00 00 */	li r0, 0
/* 8009B254 00098194  98 1E 00 07 */	stb r0, 7(r30)
/* 8009B258 00098198  48 00 00 28 */	b lbl_8009B280
lbl_8009B25C:
/* 8009B25C 0009819C  38 6D 82 90 */	addi r3, r13, ClampRegion-_SDA_BASE_
/* 8009B260 000981A0  88 03 00 01 */	lbz r0, 1(r3)
/* 8009B264 000981A4  7C 00 20 40 */	cmplw r0, r4
/* 8009B268 000981A8  40 80 00 08 */	bge lbl_8009B270
/* 8009B26C 000981AC  98 1E 00 07 */	stb r0, 7(r30)
lbl_8009B270:
/* 8009B270 000981B0  88 6D 82 90 */	lbz r3, ClampRegion-_SDA_BASE_(r13)
/* 8009B274 000981B4  88 1E 00 07 */	lbz r0, 7(r30)
/* 8009B278 000981B8  7C 03 00 50 */	subf r0, r3, r0
/* 8009B27C 000981BC  98 1E 00 07 */	stb r0, 7(r30)
lbl_8009B280:
/* 8009B280 000981C0  3B FF 00 01 */	addi r31, r31, 1
/* 8009B284 000981C4  2C 1F 00 04 */	cmpwi r31, 4
/* 8009B288 000981C8  3B DE 00 0C */	addi r30, r30, 0xc
/* 8009B28C 000981CC  41 80 FF 38 */	blt lbl_8009B1C4
/* 8009B290 000981D0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8009B294 000981D4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8009B298 000981D8  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8009B29C 000981DC  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8009B2A0 000981E0  38 21 00 20 */	addi r1, r1, 0x20
/* 8009B2A4 000981E4  7C 08 03 A6 */	mtlr r0
/* 8009B2A8 000981E8  4E 80 00 20 */	blr 

.section .sdata, "wa"  # 0x80408AC0 - 0x804097C0
.global ClampRegion
ClampRegion:
	.incbin "baserom.dol", 0x3E3290, 0x8
